<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_85) on Wed Jan 04 10:25:48 CST 2017 -->
<title>LoadBalancedConnectionProxy</title>
<meta name="date" content="2017-01-04">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="LoadBalancedConnectionProxy";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/mysql/jdbc/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/mysql/jdbc/LoadBalancedConnection.html" title="interface in com.mysql.jdbc"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.NullLoadBalancedConnectionProxy.html" title="class in com.mysql.jdbc"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/mysql/jdbc/LoadBalancedConnectionProxy.html" target="_top">Frames</a></li>
<li><a href="LoadBalancedConnectionProxy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.mysql.jdbc</div>
<h2 title="Class LoadBalancedConnectionProxy" class="title">Class LoadBalancedConnectionProxy</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">com.mysql.jdbc.MultiHostConnectionProxy</a></li>
<li>
<ul class="inheritance">
<li>com.mysql.jdbc.LoadBalancedConnectionProxy</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/mysql/jdbc/PingTarget.html" title="interface in com.mysql.jdbc">PingTarget</a>, java.lang.reflect.InvocationHandler</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">LoadBalancedConnectionProxy</span>
extends <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a>
implements <a href="../../../com/mysql/jdbc/PingTarget.html" title="interface in com.mysql.jdbc">PingTarget</a></pre>
<div class="block">A proxy for a dynamic com.mysql.jdbc.Connection implementation that load balances requests across a series of MySQL JDBC connections, where the balancing
 takes place at transaction commit.
 
 Therefore, for this to work (at all), you must use transactions, even if only reading data.
 
 This implementation will invalidate connections that it detects have had communication errors when processing a request. Problematic hosts will be added to a
 global blacklist for loadBalanceBlacklistTimeout ms, after which they will be removed from the blacklist and made eligible once again to be selected for new
 connections.
 
 This implementation is thread-safe, but it's questionable whether sharing a connection instance amongst threads is a good idea, given that transactions are
 scoped to connections in JDBC.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.NullLoadBalancedConnectionProxy.html" title="class in com.mysql.jdbc">LoadBalancedConnectionProxy.NullLoadBalancedConnectionProxy</a></strong></code>
<div class="block">A LoadBalancedConnection proxy that provides null-functionality.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_com.mysql.jdbc.MultiHostConnectionProxy">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;com.mysql.jdbc.<a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a></h3>
<code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.JdbcInterfaceProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy.JdbcInterfaceProxy</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#autoCommitSwapThreshold">autoCommitSwapThreshold</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../com/mysql/jdbc/BalanceStrategy.html" title="interface in com.mysql.jdbc">BalanceStrategy</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#balancer">balancer</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#BLACKLIST_TIMEOUT_PROPERTY_KEY">BLACKLIST_TIMEOUT_PROPERTY_KEY</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../com/mysql/jdbc/ConnectionGroup.html" title="class in com.mysql.jdbc">ConnectionGroup</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#connectionGroup">connectionGroup</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#connectionGroupProxyID">connectionGroupProxyID</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;<a href="../../../com/mysql/jdbc/ConnectionImpl.html" title="class in com.mysql.jdbc">ConnectionImpl</a>,java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#connectionsToHostsMap">connectionsToHostsMap</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../com/mysql/jdbc/LoadBalanceExceptionChecker.html" title="interface in com.mysql.jdbc">LoadBalanceExceptionChecker</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#exceptionChecker">exceptionChecker</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.Map&lt;java.lang.String,java.lang.Long&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#globalBlacklist">globalBlacklist</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#globalBlacklistTimeout">globalBlacklistTimeout</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#HOST_REMOVAL_GRACE_PERIOD_PROPERTY_KEY">HOST_REMOVAL_GRACE_PERIOD_PROPERTY_KEY</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#hostRemovalGracePeriod">hostRemovalGracePeriod</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.String,java.lang.Integer&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#hostsToListIndexMap">hostsToListIndexMap</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#hostsToRemove">hostsToRemove</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.Class&lt;?&gt;[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#INTERFACES_TO_PROXY">INTERFACES_TO_PROXY</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#inTransaction">inTransaction</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.reflect.Constructor&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#JDBC_4_LB_CONNECTION_CTOR">JDBC_4_LB_CONNECTION_CTOR</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.Map&lt;java.lang.String,<a href="../../../com/mysql/jdbc/ConnectionImpl.html" title="class in com.mysql.jdbc">ConnectionImpl</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#liveConnections">liveConnections</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="../../../com/mysql/jdbc/LoadBalancedConnection.html" title="interface in com.mysql.jdbc">LoadBalancedConnection</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#nullLBConnectionInstance">nullLBConnectionInstance</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#responseTimes">responseTimes</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#retriesAllDown">retriesAllDown</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#totalPhysicalConnections">totalPhysicalConnections</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#transactionCount">transactionCount</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#transactionStartTime">transactionStartTime</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.mysql.jdbc.MultiHostConnectionProxy">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.mysql.jdbc.<a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a></h3>
<code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#autoReconnect">autoReconnect</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#closedExplicitly">closedExplicitly</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#closedReason">closedReason</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#currentConnection">currentConnection</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#hostList">hostList</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#isClosed">isClosed</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#lastExceptionDealtWith">lastExceptionDealtWith</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#localProps">localProps</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#proxyConnection">proxyConnection</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#thisAsConnection">thisAsConnection</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#LoadBalancedConnectionProxy(java.util.List,%20java.util.Properties)">LoadBalancedConnectionProxy</a></strong>(java.util.List&lt;java.lang.String&gt;&nbsp;hosts,
                           java.util.Properties&nbsp;props)</code>
<div class="block">Creates a proxy for java.sql.Connection that routes requests between the given list of host:port and uses the given properties when creating connections.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#addHost(java.lang.String)">addHost</a></strong>(java.lang.String&nbsp;hostPortPair)</code>
<div class="block">Adds a host to the hosts list.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#addToGlobalBlacklist(java.lang.String)">addToGlobalBlacklist</a></strong>(java.lang.String&nbsp;host)</code>
<div class="block">Adds a host to the blacklist.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#addToGlobalBlacklist(java.lang.String,%20long)">addToGlobalBlacklist</a></strong>(java.lang.String&nbsp;host,
                    long&nbsp;timeout)</code>
<div class="block">Adds a host to the blacklist with the given timeout.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#closeAllConnections()">closeAllConnections</a></strong>()</code>
<div class="block">Closes all live connections.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/mysql/jdbc/ConnectionImpl.html" title="class in com.mysql.jdbc">ConnectionImpl</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#createConnectionForHost(java.lang.String)">createConnectionForHost</a></strong>(java.lang.String&nbsp;hostPortSpec)</code>
<div class="block">Creates a new physical connection for the given host:port and updates required internal mappings and statistics for that connection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/mysql/jdbc/LoadBalancedConnection.html" title="interface in com.mysql.jdbc">LoadBalancedConnection</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#createProxyInstance(java.util.List,%20java.util.Properties)">createProxyInstance</a></strong>(java.util.List&lt;java.lang.String&gt;&nbsp;hosts,
                   java.util.Properties&nbsp;props)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#doAbort(java.util.concurrent.Executor)">doAbort</a></strong>(java.util.concurrent.Executor&nbsp;executor)</code>
<div class="block">Aborts all live connections, using the provided Executor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#doAbortInternal()">doAbortInternal</a></strong>()</code>
<div class="block">Aborts all live connections</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#doClose()">doClose</a></strong>()</code>
<div class="block">Closes all live connections.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#doPing()">doPing</a></strong>()</code>
<div class="block">Pings live connections.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#getActivePhysicalConnectionCount()">getActivePhysicalConnectionCount</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#getConnectionGroupProxyID()">getConnectionGroupProxyID</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#getCurrentActiveHost()">getCurrentActiveHost</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#getCurrentTransactionDuration()">getCurrentTransactionDuration</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.Long&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#getGlobalBlacklist()">getGlobalBlacklist</a></strong>()</code>
<div class="block">Returns a local hosts blacklist, while cleaning up expired records from the global blacklist, or a blacklist with the hosts to be removed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../com/mysql/jdbc/MySQLConnection.html" title="interface in com.mysql.jdbc">MySQLConnection</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#getNewWrapperForThisAsConnection()">getNewWrapperForThisAsConnection</a></strong>()</code>
<div class="block">Wraps this object with a new load balanced Connection instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static <a href="../../../com/mysql/jdbc/LoadBalancedConnection.html" title="interface in com.mysql.jdbc">LoadBalancedConnection</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#getNullLoadBalancedConnectionInstance()">getNullLoadBalancedConnectionInstance</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#getTotalPhysicalConnectionCount()">getTotalPhysicalConnectionCount</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#getTransactionCount()">getTransactionCount</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#inTransaction()">inTransaction</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#invalidateConnection(com.mysql.jdbc.MySQLConnection)">invalidateConnection</a></strong>(<a href="../../../com/mysql/jdbc/MySQLConnection.html" title="interface in com.mysql.jdbc">MySQLConnection</a>&nbsp;conn)</code>
<div class="block">Closes specified connection and removes it from required mappings.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#invokeMore(java.lang.Object,%20java.lang.reflect.Method,%20java.lang.Object[])">invokeMore</a></strong>(java.lang.Object&nbsp;proxy,
          java.lang.reflect.Method&nbsp;method,
          java.lang.Object[]&nbsp;args)</code>
<div class="block">Proxies method invocation on the java.sql.Connection interface, trapping "close", "isClosed" and "commit/rollback" to switch connections for load
 balancing.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#isGlobalBlacklistEnabled()">isGlobalBlacklistEnabled</a></strong>()</code>
<div class="block">Checks if host blacklist management was enabled.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#isMasterConnection()">isMasterConnection</a></strong>()</code>
<div class="block">Always returns 'true' as there are no "masters" and "slaves" in this type of connection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#pickNewConnection()">pickNewConnection</a></strong>()</code>
<div class="block">Picks the "best" connection to use for the next transaction based on the BalanceStrategy in use.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#propagateProxyDown(com.mysql.jdbc.MySQLConnection)">propagateProxyDown</a></strong>(<a href="../../../com/mysql/jdbc/MySQLConnection.html" title="interface in com.mysql.jdbc">MySQLConnection</a>&nbsp;proxyConn)</code>
<div class="block">Propagates the connection proxy down through all live connections.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#removeHost(java.lang.String)">removeHost</a></strong>(java.lang.String&nbsp;hostPortPair)</code>
<div class="block">Removes a host from the host list.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#removeHostWhenNotInUse(java.lang.String)">removeHostWhenNotInUse</a></strong>(java.lang.String&nbsp;hostPortPair)</code>
<div class="block">Removes a host from the host list, allowing it some time to be released gracefully if needed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.html#shouldExceptionTriggerConnectionSwitch(java.lang.Throwable)">shouldExceptionTriggerConnectionSwitch</a></strong>(java.lang.Throwable&nbsp;t)</code>
<div class="block">Consults the registered LoadBalanceExceptionChecker if the given exception should trigger a connection fail-over.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.mysql.jdbc.MultiHostConnectionProxy">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.mysql.jdbc.<a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a></h3>
<code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#allowedOnClosedConnection(java.lang.reflect.Method)">allowedOnClosedConnection</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#dealWithInvocationException(java.lang.reflect.InvocationTargetException)">dealWithInvocationException</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#getNewJdbcInterfaceProxy(java.lang.Object)">getNewJdbcInterfaceProxy</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#getProxy()">getProxy</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#initializeHostsSpecs(java.util.List,%20java.util.Properties)">initializeHostsSpecs</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#invalidateCurrentConnection()">invalidateCurrentConnection</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#invoke(java.lang.Object,%20java.lang.reflect.Method,%20java.lang.Object[])">invoke</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#proxyIfReturnTypeIsJdbcInterface(java.lang.Class,%20java.lang.Object)">proxyIfReturnTypeIsJdbcInterface</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#setProxy(com.mysql.jdbc.MySQLConnection)">setProxy</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#syncSessionState(com.mysql.jdbc.Connection,%20com.mysql.jdbc.Connection)">syncSessionState</a>, <a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#syncSessionState(com.mysql.jdbc.Connection,%20com.mysql.jdbc.Connection,%20boolean)">syncSessionState</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="connectionGroup">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectionGroup</h4>
<pre>private&nbsp;<a href="../../../com/mysql/jdbc/ConnectionGroup.html" title="class in com.mysql.jdbc">ConnectionGroup</a> connectionGroup</pre>
</li>
</ul>
<a name="connectionGroupProxyID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectionGroupProxyID</h4>
<pre>private&nbsp;long connectionGroupProxyID</pre>
</li>
</ul>
<a name="liveConnections">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>liveConnections</h4>
<pre>protected&nbsp;java.util.Map&lt;java.lang.String,<a href="../../../com/mysql/jdbc/ConnectionImpl.html" title="class in com.mysql.jdbc">ConnectionImpl</a>&gt; liveConnections</pre>
</li>
</ul>
<a name="hostsToListIndexMap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hostsToListIndexMap</h4>
<pre>private&nbsp;java.util.Map&lt;java.lang.String,java.lang.Integer&gt; hostsToListIndexMap</pre>
</li>
</ul>
<a name="connectionsToHostsMap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectionsToHostsMap</h4>
<pre>private&nbsp;java.util.Map&lt;<a href="../../../com/mysql/jdbc/ConnectionImpl.html" title="class in com.mysql.jdbc">ConnectionImpl</a>,java.lang.String&gt; connectionsToHostsMap</pre>
</li>
</ul>
<a name="totalPhysicalConnections">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>totalPhysicalConnections</h4>
<pre>private&nbsp;long totalPhysicalConnections</pre>
</li>
</ul>
<a name="responseTimes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>responseTimes</h4>
<pre>private&nbsp;long[] responseTimes</pre>
</li>
</ul>
<a name="retriesAllDown">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retriesAllDown</h4>
<pre>private&nbsp;int retriesAllDown</pre>
</li>
</ul>
<a name="balancer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>balancer</h4>
<pre>private&nbsp;<a href="../../../com/mysql/jdbc/BalanceStrategy.html" title="interface in com.mysql.jdbc">BalanceStrategy</a> balancer</pre>
</li>
</ul>
<a name="autoCommitSwapThreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>autoCommitSwapThreshold</h4>
<pre>private&nbsp;int autoCommitSwapThreshold</pre>
</li>
</ul>
<a name="BLACKLIST_TIMEOUT_PROPERTY_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BLACKLIST_TIMEOUT_PROPERTY_KEY</h4>
<pre>public static final&nbsp;java.lang.String BLACKLIST_TIMEOUT_PROPERTY_KEY</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.mysql.jdbc.LoadBalancedConnectionProxy.BLACKLIST_TIMEOUT_PROPERTY_KEY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="globalBlacklistTimeout">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>globalBlacklistTimeout</h4>
<pre>private&nbsp;int globalBlacklistTimeout</pre>
</li>
</ul>
<a name="globalBlacklist">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>globalBlacklist</h4>
<pre>private static&nbsp;java.util.Map&lt;java.lang.String,java.lang.Long&gt; globalBlacklist</pre>
</li>
</ul>
<a name="HOST_REMOVAL_GRACE_PERIOD_PROPERTY_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HOST_REMOVAL_GRACE_PERIOD_PROPERTY_KEY</h4>
<pre>public static final&nbsp;java.lang.String HOST_REMOVAL_GRACE_PERIOD_PROPERTY_KEY</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.mysql.jdbc.LoadBalancedConnectionProxy.HOST_REMOVAL_GRACE_PERIOD_PROPERTY_KEY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="hostRemovalGracePeriod">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hostRemovalGracePeriod</h4>
<pre>private&nbsp;int hostRemovalGracePeriod</pre>
</li>
</ul>
<a name="hostsToRemove">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hostsToRemove</h4>
<pre>private&nbsp;java.util.Set&lt;java.lang.String&gt; hostsToRemove</pre>
</li>
</ul>
<a name="inTransaction">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inTransaction</h4>
<pre>private&nbsp;boolean inTransaction</pre>
</li>
</ul>
<a name="transactionStartTime">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transactionStartTime</h4>
<pre>private&nbsp;long transactionStartTime</pre>
</li>
</ul>
<a name="transactionCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transactionCount</h4>
<pre>private&nbsp;long transactionCount</pre>
</li>
</ul>
<a name="exceptionChecker">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exceptionChecker</h4>
<pre>private&nbsp;<a href="../../../com/mysql/jdbc/LoadBalanceExceptionChecker.html" title="interface in com.mysql.jdbc">LoadBalanceExceptionChecker</a> exceptionChecker</pre>
</li>
</ul>
<a name="JDBC_4_LB_CONNECTION_CTOR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JDBC_4_LB_CONNECTION_CTOR</h4>
<pre>private static&nbsp;java.lang.reflect.Constructor&lt;?&gt; JDBC_4_LB_CONNECTION_CTOR</pre>
</li>
</ul>
<a name="INTERFACES_TO_PROXY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INTERFACES_TO_PROXY</h4>
<pre>private static&nbsp;java.lang.Class&lt;?&gt;[] INTERFACES_TO_PROXY</pre>
</li>
</ul>
<a name="nullLBConnectionInstance">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>nullLBConnectionInstance</h4>
<pre>private static&nbsp;<a href="../../../com/mysql/jdbc/LoadBalancedConnection.html" title="interface in com.mysql.jdbc">LoadBalancedConnection</a> nullLBConnectionInstance</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LoadBalancedConnectionProxy(java.util.List, java.util.Properties)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LoadBalancedConnectionProxy</h4>
<pre>private&nbsp;LoadBalancedConnectionProxy(java.util.List&lt;java.lang.String&gt;&nbsp;hosts,
                           java.util.Properties&nbsp;props)
                             throws java.sql.SQLException</pre>
<div class="block">Creates a proxy for java.sql.Connection that routes requests between the given list of host:port and uses the given properties when creating connections.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hosts</code> - The list of the hosts to load balance.</dd><dd><code>props</code> - Connection properties from where to get initial settings and to be used in new connections.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createProxyInstance(java.util.List, java.util.Properties)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createProxyInstance</h4>
<pre>public static&nbsp;<a href="../../../com/mysql/jdbc/LoadBalancedConnection.html" title="interface in com.mysql.jdbc">LoadBalancedConnection</a>&nbsp;createProxyInstance(java.util.List&lt;java.lang.String&gt;&nbsp;hosts,
                                         java.util.Properties&nbsp;props)
                                                  throws java.sql.SQLException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="getNewWrapperForThisAsConnection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNewWrapperForThisAsConnection</h4>
<pre><a href="../../../com/mysql/jdbc/MySQLConnection.html" title="interface in com.mysql.jdbc">MySQLConnection</a>&nbsp;getNewWrapperForThisAsConnection()
                                           throws java.sql.SQLException</pre>
<div class="block">Wraps this object with a new load balanced Connection instance.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#getNewWrapperForThisAsConnection()">getNewWrapperForThisAsConnection</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The connection object instance that wraps 'this'.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="propagateProxyDown(com.mysql.jdbc.MySQLConnection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>propagateProxyDown</h4>
<pre>protected&nbsp;void&nbsp;propagateProxyDown(<a href="../../../com/mysql/jdbc/MySQLConnection.html" title="interface in com.mysql.jdbc">MySQLConnection</a>&nbsp;proxyConn)</pre>
<div class="block">Propagates the connection proxy down through all live connections.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#propagateProxyDown(com.mysql.jdbc.MySQLConnection)">propagateProxyDown</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>proxyConn</code> - The top level connection in the multi-host connections chain.</dd></dl>
</li>
</ul>
<a name="shouldExceptionTriggerConnectionSwitch(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shouldExceptionTriggerConnectionSwitch</h4>
<pre>boolean&nbsp;shouldExceptionTriggerConnectionSwitch(java.lang.Throwable&nbsp;t)</pre>
<div class="block">Consults the registered LoadBalanceExceptionChecker if the given exception should trigger a connection fail-over.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#shouldExceptionTriggerConnectionSwitch(java.lang.Throwable)">shouldExceptionTriggerConnectionSwitch</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>ex</code> - The Exception instance to check.</dd></dl>
</li>
</ul>
<a name="isMasterConnection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMasterConnection</h4>
<pre>boolean&nbsp;isMasterConnection()</pre>
<div class="block">Always returns 'true' as there are no "masters" and "slaves" in this type of connection.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#isMasterConnection()">isMasterConnection</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a></code></dd>
</dl>
</li>
</ul>
<a name="invalidateConnection(com.mysql.jdbc.MySQLConnection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidateConnection</h4>
<pre>void&nbsp;invalidateConnection(<a href="../../../com/mysql/jdbc/MySQLConnection.html" title="interface in com.mysql.jdbc">MySQLConnection</a>&nbsp;conn)
                    throws java.sql.SQLException</pre>
<div class="block">Closes specified connection and removes it from required mappings.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#invalidateConnection(com.mysql.jdbc.MySQLConnection)">invalidateConnection</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>conn</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="pickNewConnection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pickNewConnection</h4>
<pre>void&nbsp;pickNewConnection()
                 throws java.sql.SQLException</pre>
<div class="block">Picks the "best" connection to use for the next transaction based on the BalanceStrategy in use.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#pickNewConnection()">pickNewConnection</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="createConnectionForHost(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createConnectionForHost</h4>
<pre>public&nbsp;<a href="../../../com/mysql/jdbc/ConnectionImpl.html" title="class in com.mysql.jdbc">ConnectionImpl</a>&nbsp;createConnectionForHost(java.lang.String&nbsp;hostPortSpec)
                                       throws java.sql.SQLException</pre>
<div class="block">Creates a new physical connection for the given host:port and updates required internal mappings and statistics for that connection.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#createConnectionForHost(java.lang.String)">createConnectionForHost</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>hostPortSpec</code> - The host:port specification.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The new Connection instance.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="closeAllConnections()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeAllConnections</h4>
<pre>private&nbsp;void&nbsp;closeAllConnections()</pre>
<div class="block">Closes all live connections.</div>
</li>
</ul>
<a name="doClose()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doClose</h4>
<pre>void&nbsp;doClose()</pre>
<div class="block">Closes all live connections.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#doClose()">doClose</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a></code></dd>
</dl>
</li>
</ul>
<a name="doAbortInternal()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doAbortInternal</h4>
<pre>void&nbsp;doAbortInternal()</pre>
<div class="block">Aborts all live connections</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#doAbortInternal()">doAbortInternal</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a></code></dd>
</dl>
</li>
</ul>
<a name="doAbort(java.util.concurrent.Executor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doAbort</h4>
<pre>void&nbsp;doAbort(java.util.concurrent.Executor&nbsp;executor)</pre>
<div class="block">Aborts all live connections, using the provided Executor.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#doAbort(java.util.concurrent.Executor)">doAbort</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a></code></dd>
</dl>
</li>
</ul>
<a name="invokeMore(java.lang.Object, java.lang.reflect.Method, java.lang.Object[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invokeMore</h4>
<pre>public&nbsp;java.lang.Object&nbsp;invokeMore(java.lang.Object&nbsp;proxy,
                          java.lang.reflect.Method&nbsp;method,
                          java.lang.Object[]&nbsp;args)
                            throws java.lang.Throwable</pre>
<div class="block">Proxies method invocation on the java.sql.Connection interface, trapping "close", "isClosed" and "commit/rollback" to switch connections for load
 balancing.
 This is the continuation of MultiHostConnectionProxy#invoke(Object, Method, Object[]).</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html#invokeMore(java.lang.Object,%20java.lang.reflect.Method,%20java.lang.Object[])">invokeMore</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/mysql/jdbc/MultiHostConnectionProxy.html" title="class in com.mysql.jdbc">MultiHostConnectionProxy</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Throwable</code></dd></dl>
</li>
</ul>
<a name="doPing()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doPing</h4>
<pre>public&nbsp;void&nbsp;doPing()
            throws java.sql.SQLException</pre>
<div class="block">Pings live connections.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/mysql/jdbc/PingTarget.html#doPing()">doPing</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/mysql/jdbc/PingTarget.html" title="interface in com.mysql.jdbc">PingTarget</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="addToGlobalBlacklist(java.lang.String, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToGlobalBlacklist</h4>
<pre>public&nbsp;void&nbsp;addToGlobalBlacklist(java.lang.String&nbsp;host,
                        long&nbsp;timeout)</pre>
<div class="block">Adds a host to the blacklist with the given timeout.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>host</code> - The host to be blacklisted.</dd><dd><code>timeout</code> - The blacklist timeout for this entry.</dd></dl>
</li>
</ul>
<a name="addToGlobalBlacklist(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToGlobalBlacklist</h4>
<pre>public&nbsp;void&nbsp;addToGlobalBlacklist(java.lang.String&nbsp;host)</pre>
<div class="block">Adds a host to the blacklist.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>host</code> - The host to be blacklisted.</dd></dl>
</li>
</ul>
<a name="isGlobalBlacklistEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isGlobalBlacklistEnabled</h4>
<pre>public&nbsp;boolean&nbsp;isGlobalBlacklistEnabled()</pre>
<div class="block">Checks if host blacklist management was enabled.</div>
</li>
</ul>
<a name="getGlobalBlacklist()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGlobalBlacklist</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.Long&gt;&nbsp;getGlobalBlacklist()</pre>
<div class="block">Returns a local hosts blacklist, while cleaning up expired records from the global blacklist, or a blacklist with the hosts to be removed.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A local hosts blacklist.</dd></dl>
</li>
</ul>
<a name="removeHostWhenNotInUse(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeHostWhenNotInUse</h4>
<pre>public&nbsp;void&nbsp;removeHostWhenNotInUse(java.lang.String&nbsp;hostPortPair)
                            throws java.sql.SQLException</pre>
<div class="block">Removes a host from the host list, allowing it some time to be released gracefully if needed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hostPortPair</code> - The host to be removed.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="removeHost(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeHost</h4>
<pre>public&nbsp;void&nbsp;removeHost(java.lang.String&nbsp;hostPortPair)
                throws java.sql.SQLException</pre>
<div class="block">Removes a host from the host list.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hostPortPair</code> - The host to be removed.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="addHost(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addHost</h4>
<pre>public&nbsp;boolean&nbsp;addHost(java.lang.String&nbsp;hostPortPair)</pre>
<div class="block">Adds a host to the hosts list.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hostPortPair</code> - The host to be added.</dd></dl>
</li>
</ul>
<a name="inTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inTransaction</h4>
<pre>public&nbsp;boolean&nbsp;inTransaction()</pre>
</li>
</ul>
<a name="getTransactionCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionCount</h4>
<pre>public&nbsp;long&nbsp;getTransactionCount()</pre>
</li>
</ul>
<a name="getActivePhysicalConnectionCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getActivePhysicalConnectionCount</h4>
<pre>public&nbsp;long&nbsp;getActivePhysicalConnectionCount()</pre>
</li>
</ul>
<a name="getTotalPhysicalConnectionCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalPhysicalConnectionCount</h4>
<pre>public&nbsp;long&nbsp;getTotalPhysicalConnectionCount()</pre>
</li>
</ul>
<a name="getConnectionGroupProxyID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnectionGroupProxyID</h4>
<pre>public&nbsp;long&nbsp;getConnectionGroupProxyID()</pre>
</li>
</ul>
<a name="getCurrentActiveHost()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentActiveHost</h4>
<pre>public&nbsp;java.lang.String&nbsp;getCurrentActiveHost()</pre>
</li>
</ul>
<a name="getCurrentTransactionDuration()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentTransactionDuration</h4>
<pre>public&nbsp;long&nbsp;getCurrentTransactionDuration()</pre>
</li>
</ul>
<a name="getNullLoadBalancedConnectionInstance()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getNullLoadBalancedConnectionInstance</h4>
<pre>static&nbsp;<a href="../../../com/mysql/jdbc/LoadBalancedConnection.html" title="interface in com.mysql.jdbc">LoadBalancedConnection</a>&nbsp;getNullLoadBalancedConnectionInstance()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/mysql/jdbc/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/mysql/jdbc/LoadBalancedConnection.html" title="interface in com.mysql.jdbc"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/mysql/jdbc/LoadBalancedConnectionProxy.NullLoadBalancedConnectionProxy.html" title="class in com.mysql.jdbc"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/mysql/jdbc/LoadBalancedConnectionProxy.html" target="_top">Frames</a></li>
<li><a href="LoadBalancedConnectionProxy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
